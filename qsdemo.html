<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quorum Sensing: Bilimsel Bir Deneyim - Vanilla JS</title>
    <meta name="description" content="Quorum Sensing üzerine Vanilla JS ile hazırlanmış interaktif bir sunum. Bakteriyel iletişimden biyoteknolojik uygulamalara bir yolculuk.">
    <meta name="author" content="Sait Ramazan Gülbay">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* CSS kodları burada yer alacak, ancak şimdilik aynı kaldığı için kısaca geçiyorum */
        body { margin: 0; font-family: 'Lato', sans-serif; background: #f0f0f0; }
        .presentation-container { position: relative; width: 100%; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .slide { opacity: 0; transition: opacity 0.6s ease; }
        .slide.active { opacity: 1; }
        .navigation-area { position: fixed; bottom: 20px; width: 100%; text-align: center; }
        .nav-button { padding: 10px 20px; font-size: 18px; cursor: pointer; }
        .progress-bar { height: 5px; background: #007bff; width: 0%; transition: width 0.3s; }
    </style>
</head>
<body>

    <div class="presentation-container" id="presentation-container">
    </div>
    <div class="background-effects"></div>

    <div class="navigation-area">
        <div class="progress-indicator">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="navigation-controls">
            <button id="prevButton" class="nav-button" aria-label="Önceki Slayt">←</button>
            <span id="slideCounter">1 / X</span>
            <button id="nextButton" class="nav-button" aria-label="Sonraki Slayt">→</button>
            <button id="audioControlBtn" aria-label="Sesi Çal"><span>🔊</span></button>
        </div>
    </div>

    <audio id="presentationAudio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="metadata"></audio>

    <script>
        // Slayt Verileri
        const slidesData = [
            // Slayt 1: Başlık
            {
                type: 'title',
                title: 'QUORUM SENSING',
                subtitle: 'Bakteriyel Fısıltılardan Biyoteknolojik Senfonilere',
                presenter: 'Sait Ramazan Gülbay',
                event: `Tıbbi Mikrobiyoloji Kongresi - 5 Nisan 2025`,
                imageSrc: 'https://via.placeholder.com/460x300?text=Quorum+Sensing',
                imageAlt: 'Quorum Sensing görseli'
            },
            // Slayt 2: Giriş & Ajanda
            {
                type: 'two-column',
                reversed: true,
                htmlContent: `
                    <h2>Giriş: Mikroskobik Sosyal Ağ</h2>
                    <h3>Keşif Yolculuğumuz</h3>
                    <ul class="agenda-list">
                        <li><span class="agenda-number">I.</span> QS Nedir? <span class="agenda-detail">Temel Kavramlar</span></li>
                        <li><span class="agenda-number">II.</span> İşleyiş Sırları: <span class="agenda-detail">Mekanizma</span></li>
                        <li><span class="agenda-number">III.</span> Bakteriyel Lehçeler: <span class="agenda-detail">Gram Farklılıkları</span></li>
                        <li><span class="agenda-number">IV.</span> Klinik Yankılar: <span class="agenda-detail">Hastalıklar</span></li>
                        <li><span class="agenda-number">V.</span> Müdahale Sanatı: <span class="agenda-detail">Quorum Quenching</span></li>
                        <li><span class="agenda-number">VI.</span> Ufuktaki Gelişmeler: <span class="agenda-detail">Gelecek</span></li>
                    </ul>`,
                imageSrc: 'https://images.unsplash.com/photo-1531297484001-80022131c5a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=460&q=80',
                imageAlt: 'Teknolojik arayüz veya veri görselleştirmesi'
            },
            // Slayt 3: Konsept
            {
                type: 'two-column',
                reversed: false,
                htmlContent: `
                    <h2>Konsept: <span class="highlight">Yeterli Çoğunluk</span> Algısı</h2>
                    <h3>Bakteriler Nasıl "Anlaşır"?</h3>
                    <p>QS, bakterilerin <span class="highlight">nüfus yoğunluklarını</span> algılayıp, kritik eşik aşılınca <span class="highlight">toplu davranışları</span> (örn. saldırı) senkronize ettikleri <span class="highlight">sinyal sistemidir</span> <span class="citation">[1]</span>.</p>
                    <p>Tekil bakteri etkisizken, <span class="highlight">"ordu"</span> yeterli sayıya ulaştığında koordineli hareket eder.</p>
                    <p class="analogy"><strong>Analoji:</strong> Konserde yeterli kalabalık oluşunca başlayan alkış.</p>`,
                imageSrc: 'https://images.unsplash.com/photo-1461773511539-9f8f653f65d6?ixlib=rb-4.0.3&auto=format&fit=crop&w=460&q=80',
                imageAlt: 'Kalabalık veya grup etkileşimi'
            },
            // Slayt 4: İşleyiş Diagramı
            {
                type: 'single-column',
                htmlContentTop: `
                    <h2>İşleyiş: <span class="highlight">4 Adımda</span> İletişim Döngüsü</h2>
                    <h3>Sinyal Moleküllerinin Yolculuğu <span class="citation">[2]</span></h3>`,
                htmlContentDiagram: `
                   <div class="diagram-node step1">
                       <span class="node-icon">🧬</span><span class="node-label">Üretim & Salınım (AI)</span>
                   </div>
                   <div class="diagram-arrow">→</div>
                   <div class="diagram-node step2">
                       <span class="node-icon">📈</span><span class="node-label">Birikim (Yoğunluk↑)</span>
                   </div>
                   <div class="diagram-arrow">→</div>
                   <div class="diagram-node step3">
                       <span class="node-icon">🔑</span><span class="node-label">Algılama (Reseptör)</span>
                   </div>
                   <div class="diagram-arrow">→</div>
                   <div class="diagram-node step4">
                       <span class="node-icon">💡</span><span class="node-label">Yanıt (Gen İfadesi)</span>
                   </div>`,
                htmlContentComparison: null,
                note: null,
                imageSrcBottom: 'https://via.placeholder.com/460x300?text=İşleyiş+Diagramı',
                imageAltBottom: 'İşleyiş diagramı görseli'
            }
            // Diğer slaytlar eklenebilir...
        ];

        // Sunum Mantığı
        let currentSlideIndex = 0;
        const totalSlides = slidesData.length;

        // DOM Elementleri
        const presentationContainer = document.getElementById('presentation-container');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const slideCounterElement = document.getElementById('slideCounter');
        const progressBarElement = document.getElementById('progress-bar');
        const audioElement = document.getElementById('presentationAudio');
        const audioControlButton = document.getElementById('audioControlBtn');
        let audioPlaying = false;

        // Fonksiyonlar
        function renderSlide(index) {
            if (index < 0 || index >= totalSlides) return;
            const slideData = slidesData[index];
            if (!slideData) {
                presentationContainer.innerHTML = '<p class="error">Slayt yüklenemedi.</p>';
                return;
            }
            let slideHTML = '';

            if (slideData.type === 'title') {
                slideHTML = `
                <div class="slide-content title-slide">
                    <div class="title-text-wrapper">
                       <h1 class="main-title">${slideData.title}</h1>
                       <h2 class="subtitle">${slideData.subtitle}</h2>
                    </div>
                    <div class="presenter-info">
                        <p class="presenter"><strong>Sunan:</strong> ${slideData.presenter}</p>
                        <p class="event-info">${slideData.event}</p>
                    </div>
                    ${slideData.imageSrc ? `<img src="${slideData.imageSrc}" alt="${slideData.imageAlt}">` : ''}
                </div>`;
            } else if (slideData.type === 'two-column') {
                slideHTML = `
                <div class="slide-content two-column ${slideData.reversed ? 'reversed' : ''}">
                    <div class="text-content">${slideData.htmlContent}</div>
                    ${slideData.imageSrc ? `
                    <div class="visual-content">
                        <img src="${slideData.imageSrc}" alt="${slideData.imageAlt || ''}">
                    </div>` : ''}
                </div>`;
            } else if (slideData.type === 'single-column') {
                slideHTML = `
                <div class="slide-content single-column">
                    <div class="text-content">${slideData.htmlContentTop || ''}</div>
                    ${slideData.htmlContentDiagram ? `<div class="animated-diagram">${slideData.htmlContentDiagram}</div>` : ''}
                    ${slideData.imageSrcBottom ? `
                    <div class="visual-content lower-visual">
                        <img src="${slideData.imageSrcBottom}" alt="${slideData.imageAltBottom || ''}">
                    </div>` : ''}
                </div>`;
            }

            const exitingSlide = presentationContainer.querySelector('.slide.active');
            if (exitingSlide) {
                exitingSlide.classList.remove('active');
                setTimeout(() => exitingSlide.remove(), 600);
            }

            const newSlideElement = document.createElement('section');
            newSlideElement.className = 'slide';
            newSlideElement.id = `slide${index + 1}`;
            newSlideElement.innerHTML = slideHTML;
            presentationContainer.appendChild(newSlideElement);
            requestAnimationFrame(() => newSlideElement.classList.add('active'));
        }

        function updateNavigation() {
            slideCounterElement.textContent = `${currentSlideIndex + 1} / ${totalSlides}`;
            prevButton.disabled = (currentSlideIndex === 0);
            nextButton.disabled = (currentSlideIndex === totalSlides - 1);
            progressBarElement.style.width = `${((currentSlideIndex + 1) / totalSlides) * 100}%`;
        }

        function nextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                currentSlideIndex++;
                renderSlide(currentSlideIndex);
                updateNavigation();
            }
        }

        function prevSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                renderSlide(currentSlideIndex);
                updateNavigation();
            }
        }

        function toggleAudio() {
            if (!audioElement.src) {
                alert("Lütfen geçerli bir ses dosyası ekleyin.");
                return;
            }
            if (audioPlaying) {
                audioElement.pause();
                audioControlButton.innerHTML = `<span>🔊</span>`;
                audioControlButton.setAttribute('aria-label', 'Sesi Çal');
            } else {
                audioElement.play().catch(error => console.error("Ses çalma hatası:", error));
                audioControlButton.innerHTML = `<span>🔈</span>`;
                audioControlButton.setAttribute('aria-label', 'Sesi Duraklat');
            }
            audioPlaying = !audioPlaying;
        }

        // Başlangıç ve Olay Dinleyiciler
        document.addEventListener('DOMContentLoaded', () => {
            prevButton.addEventListener('click', prevSlide);
            nextButton.addEventListener('click', nextSlide);
            audioControlButton.addEventListener('click', toggleAudio);

            window.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') nextSlide();
                else if (e.key === 'ArrowLeft') prevSlide();
            });

            audioElement.onended = () => {
                audioPlaying = false;
                audioControlButton.innerHTML = `<span>🔊</span>`;
                audioControlButton.setAttribute('aria-label', 'Sesi Çal');
            };

            renderSlide(currentSlideIndex);
            updateNavigation();
        });
    </script>
</body>
</html>
